$(document).ajaxSend(function(a,b,c){function d(a){var b,c,d,e=null;if(document.cookie&&document.cookie!=""){b=document.cookie.split(";");for(c=0;c<b.length;c++){d=jQuery.trim(b[c]);if(d.substring(0,a.length+1)==a+"="){e=decodeURIComponent(d.substring(a.length+1));break}}}return e}function e(a){var b=document.location.host,c=document.location.protocol,d="//"+b,e=c+d;return a==e||a.slice(0,e.length+1)==e+"/"||a==d||a.slice(0,d.length+1)==d+"/"||!/^(\/\/|http:|https:).*/.test(a)}function f(a){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(a)}!f(c.type)&&e(c.url)&&b.setRequestHeader("X-CSRFToken",d("csrftoken"))});